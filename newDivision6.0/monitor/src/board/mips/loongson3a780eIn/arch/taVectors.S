/***************************************************************************
 *                北京科银京成技术有限公司 版权所有
 *      Copyright (C) 2011 CoreTek Systems Inc. All Rights Reserved.
***************************************************************************/

/**
 * @file: taVectors.S
 * @brief:
 *             <li>实现对CPU中断和异常通用处理的相关操作</li>
 */

/************************头 文 件******************************/
#include <dbAsm.h>

/************************宏 定 义******************************/

/************************类型定义*****************************/

/************************外部声明*****************************/

/************************前向声明*****************************/

/************************模块变量*****************************/

/************************全局变量*****************************/

/************************函数实现*****************************/
.text

.global _vectors_table_start
_vectors_table_start:

VECTOR_BASE:

/*
************************************************************************
*                                                                      *
*     0x0000 0180:   Genenal                                           *
*                                                                      *
************************************************************************
*/
.skip	0x0180 - ( . - VECTOR_BASE )
.global taGeneralExpAsmHandler
taGeneralExpAsmHandler:
    mfc0	k1, CP0_CAUSE
	move    k0, k1
    andi 	k0, 0x7c
    
    andi 	k1, 0x7c
    lw		k0, taVectorTable(k1)
    jr		k0

.skip	0x0200-(.-VECTOR_BASE)

.global _vectors_table_end
_vectors_table_end:
