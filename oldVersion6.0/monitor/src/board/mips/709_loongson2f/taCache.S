#include <regdef.h>

#define ssnop .word 0x0000000040
#define CPU_CYCLE_TWO ssnop;ssnop;ssnop;ssnop

.global monitorFlushCache
.ent monitorFlushCache
monitorFlushCache:
.frame fp, 0, ra
.set noreorder
	move t3, a0
	nop
	/*åˆ·ä¸€çº§æ•°æ®Cache,ä¸?çº§Cacheæœ‰å››è·¯ï¼Œç”±è™šæ‹Ÿåœ°å?çš„[1:0]ä½æ ‡è¯†ï¼Œå› æ­¤è¿™é‡Œéœ?è¦åˆ†åˆ«åˆ·æ–°æ¯è·¯Cache,è¯¦è§cacheæŒ‡ä»¤çš„Invalid WriteBack Invalidate(D)*/
	cache 1, 0(t3)
	CPU_CYCLE_TWO
	cache 1, 1(t3)
	CPU_CYCLE_TWO
	cache 1, 2(t3)
	CPU_CYCLE_TWO	
	cache 1, 3(t3)
	CPU_CYCLE_TWO

	/*åˆ·ä¸€çº§æŒ‡ä»¤Cache,è¿™é‡Œä¸éœ€è¦å•ç‹¬åˆ·æ¯è·¯Cache,è¯¦è§CacheæŒ‡ä»¤çš„Index Invalidate(I)*/
	cache 0, 0(t3)

	jr ra

.end monitorFlushCache

